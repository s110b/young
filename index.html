<!doctype html>
<html lang="zh-CN">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width,initial-scale=1"/>
<title>Multiverse 风格相册</title>
<meta name="color-scheme" content="dark light">
<style>
  :root{
    --bg:#0e0f13;--tile:#11131a;--fg:#e6e9ef;--mut:#9aa1ad;--accent:#b34bff;
    --cap-bg:rgba(0,0,0,.35);--cap-fg:#eaeef7;--bar:#0b0d12;
  }
  *{box-sizing:border-box}
  html,body{margin:0;background:var(--bg);color:var(--fg);
    font:16px/1.55 ui-sans-serif,system-ui,Segoe UI,Roboto,Helvetica,Arial}
  a{color:inherit;text-decoration:none}
  /* 顶部标题 */
  .topbar{display:flex;align-items:center;justify-content:space-between;
    padding:18px 22px;border-bottom:1px solid #1b1f2a;background:linear-gradient(180deg,#0f1118,transparent)}
  .logo{font-weight:700;letter-spacing:.2px}
  .mut{color:var(--mut);font-size:.92rem}

  .topbar, .bottombar { padding-left:0; padding-right:0; }

  .topbar{
  background:transparent;   /* 去背景 */
  border:0;                 /* 去下边线 */
  padding:6px 10px;         /* 变薄 */
}
.topbar{display:none}

  /* 图墙：Multiverse 风格（整齐砖块，0 间隙） */
  .grid{
  display:grid;
  grid-template-columns:repeat(auto-fill,minmax(440px,1fr)); 
  gap:0;
  margin:0;
  width:100vw;
  max-width:100vw;
}
  @media (max-width:520px){ .grid{grid-template-columns:1fr} }

  .tile{position:relative;overflow:hidden;aspect-ratio:16/9;background:var(--tile);cursor:zoom-in}
  .tile img{width:100%;height:100%;object-fit:cover;display:block;transform:scale(1.02);transition:transform .4s ease, filter .4s ease}
  .tile:focus-within img,.tile:hover img{transform:scale(1.06);filter:contrast(1.04) saturate(1.02)}
  .cap{
    position:absolute;left:0;right:0;bottom:0;
    padding:12px 14px;background:var(--cap-bg);color:var(--cap-fg);
    font-size:.82rem;letter-spacing:.04em;text-transform:uppercase;backdrop-filter:saturate(120%) blur(2px)
  }

  /* 底部品牌条 */
  .bottombar{
    display:flex;align-items:center;justify-content:space-between;gap:16px;
    padding:14px 18px;background:var(--bar);border-top:1px solid #1b1f2a;color:var(--mut);
    font-size:.9rem
  }
  .brand span{opacity:.8}
  .about a{opacity:.85}
  .dot{opacity:.4;margin:0 .35rem}

  /* 大图查看（全屏 Lightbox） */
  .overlay{position:fixed;inset:0;z-index:9999;background:rgba(0,0,0,.92);
    display:grid;grid-template-rows:1fr auto;gap:.8rem;padding:16px}
  .hidden{display:none}
  .stage{position:relative;min-height:0;display:flex;align-items:center;justify-content:center}
  .stage img{max-width:100%;max-height:100%;object-fit:contain;border-radius:10px;box-shadow:0 12px 60px rgba(0,0,0,.55)}
  .nav{
    position:absolute;top:50%;transform:translateY(-50%);user-select:none;cursor:pointer;
    font-size:2rem;border:0;border-radius:12px;background:rgba(17,22,29,.7);color:#f1f5ff;padding:.4rem .7rem
  }
  .nav:hover{background:rgba(17,22,29,.95)}
  .prev{left:18px} .next{right:18px}
  .bar{display:flex;gap:.6rem;align-items:center;justify-content:center}
  .btn{border:0;background:#171c25;color:#e9edf7;border-radius:10px;padding:.48rem .8rem;font-size:1rem;cursor:pointer}
  .meta{color:#c4c9d4;font-size:.9rem}
  .kbd{padding:.05rem .35rem;border:1px solid #2a3141;border-radius:6px;font-size:.78rem;color:#cdd2dd}
  .sr{position:absolute;width:1px;height:1px;overflow:hidden;clip:rect(0 0 0 0);white-space:nowrap}

  .grid{
  display:grid;
  grid-template-columns:repeat(auto-fill,minmax(420px,1fr)); /* 控制单张大小 */
  gap:12px;               /* 卡片之间留缝隙 */
  margin:0;
  padding:12px;           /* 整体四周留白 */
  width:100vw;
  max-width:100vw;
  box-sizing:border-box;
}

.tile{
  position:relative;
  overflow:hidden;
  aspect-ratio:4/3;       /* 保持比例，避免拉伸 */
  border-radius:8px;      /* 圆角 */
  background:#000;
  box-shadow:0 4px 10px rgba(0,0,0,.25); /* 阴影，凸显卡片 */
  cursor:zoom-in;
}

.tile img{
  width:100%;
  height:100%;
  object-fit:cover;
  transition:transform .4s ease;
}
.tile:hover img{
  transform:scale(1.05);
}

.cap{
  position:absolute;
  left:0; right:0; bottom:0;
  padding:10px 12px;
  background:rgba(0,0,0,.45); /* 半透明黑底 */
  color:#fff;
  font-size:.85rem;
  letter-spacing:.03em;
}


/* 更窄的 Multiverse 风格砖缝 */
:root{
  --gutter:0px;          /* 卡片之间的缝隙 */
  --edge:0px;            /* 页面四周留白（可改为 0 贴边） */
}

/* 网格：大图 + 细缝 */
.grid{
  display:grid;
  grid-template-columns:repeat(auto-fill,minmax(440px,1fr)); /* 单张大小，可调 400~520 */
  gap:var(--gutter);
  margin:0;
  padding:var(--edge);
  width:100vw;
  max-width:100vw;
  box-sizing:border-box;
}

/* 卡片：轻圆角 + 细阴影 + 窄边框（更有“切片”感） */
.tile{
  position:relative;
  overflow:hidden;
  aspect-ratio:4/3;
  border-radius:6px;                           /* 圆角更小 */
  background:#0b0d12;
  border:1px solid rgba(255,255,255,.06);      /* 很淡的描边，增强区分度 */
  box-shadow:0 2px 8px rgba(0,0,0,.18);        /* 阴影更轻更短 */
  cursor:zoom-in;
}
.tile img{
  width:100%; height:100%; object-fit:cover;
  transform:translateZ(0);
  transition:transform .35s ease, filter .35s ease;
}
.tile:hover img{ transform:scale(1.035); filter:contrast(1.03) saturate(1.02); }

/* 标题条：更薄、更窄的内边距，避免遮挡画面 */
.cap{
  position:absolute; left:0; right:0; bottom:0;
  padding:8px 10px;                            /* 比之前更薄 */
  background:rgba(0,0,0,.38);
  color:#fff;
  font-size:.8rem; letter-spacing:.04em; text-transform:uppercase;
}

/* 顶/底栏若保留，改成窄边距以免造成“黑条很粗”的观感 */
.topbar,.bottombar{ padding:8px 10px; }

/* 小屏进一步缩小缝隙与卡片尺寸 */
@media (max-width: 768px){
  :root{ --gutter:4px; --edge:4px; }
  .grid{ grid-template-columns:repeat(auto-fill,minmax(320px,1fr)); }
}
@media (max-width: 520px){
  .grid{ grid-template-columns:1fr; }
}


</style>
</head>
<body>

<header class="topbar">
  <div class="logo">Multiverse风格</div>
  <div class="mut">单页相册 · GitHub Pages /young</div>
</header>

<main id="grid" class="grid" aria-label="相册图片墙"></main>

<footer class="bottombar">
  <div class="brand"><b>Multiverse</b> <span>风格相册</span></div>
  <div class="about"><a href="#" title="关于本页">ABOUT</a><span class="dot">•</span><span>←/→ 切图，Esc 关闭</span></div>
</footer>

<!-- Lightbox -->
<div id="viewer" class="overlay hidden" role="dialog" aria-modal="true" aria-label="图片查看器">
  <div class="stage" id="stage">
    <button id="prev" class="nav prev" aria-label="上一张">‹</button>
    <img id="big" alt=""/>
    <button id="next" class="nav next" aria-label="下一张">›</button>
  </div>
  <div class="bar">
    <button id="close" class="btn" aria-label="关闭">关闭 <span class="kbd">Esc</span></button>
    <span id="meta" class="meta"></span>
  </div>
</div>

<script>
/* ---------- 子目录友好：以当前页面目录为基准拼路径 ---------- */
const BASE_URL = new URL('.', location.href);
const resolvePath = p=>{
  if (!p || /^(?:[a-z]+:)?\/\//i.test(p) || p.startsWith('data:')) return p;
  return new URL(p.replace(/^\.?\//,''), BASE_URL).href;
};
const nameOf = src=>{
  try{ const u=new URL(src, BASE_URL); const n=u.pathname.split('/').pop()||''; return decodeURIComponent(n).replace(/\.[^.]+$/,''); }
  catch{ return 'Photo'; }
};
/* ---------- 配图清单（把图片放在 young/images/ 下即可） ---------- */
// const IMAGES = [
//   {src:'images/galaxy.jpg', title:'Magna feugiat lorem'},
//   {src:'images/sunset.jpg', title:'Nisl adipiscing'},
//   {src:'images/desert.jpg', title:'Tempus aliquam'},
//   {src:'images/lake.jpg', title:'Aliquam ipsum'},
//   {src:'images/road.jpg', title:'Cursus aliquam nisl'},
//   {src:'images/clouds.jpg', title:'Sed consequat'}
// ];

const IMAGES = Array.from({length:14}, (_,i) => ({
  src: `images/_- visual selection (${i+1}).png`
}));

// 若没有图片也能预览，占位图：
function ph(label, hue, w=1600, h=900){
  const svg=`<svg xmlns='http://www.w3.org/2000/svg' width='${w}' height='${h}'>
    <defs><linearGradient id='g' x1='0' y1='0' x2='1' y2='1'>
      <stop offset='0' stop-color='hsl(${hue},70%,55%)'/><stop offset='1' stop-color='hsl(${(hue+60)%360},70%,45%)'/></linearGradient></defs>
    <rect width='100%' height='100%' fill='url(#g)'/>
    <text x='50%' y='50%' fill='white' font-size='64' font-family='Segoe UI,Roboto,Arial' text-anchor='middle' dominant-baseline='middle'>${label}</text>
  </svg>`;
  return 'data:image/svg+xml;base64,'+btoa(unescape(encodeURIComponent(svg)));
}
const PICS = IMAGES?.length ? IMAGES.slice(0,120)
  : Array.from({length:9},(_,i)=>({src:ph('Sample '+(i+1),(i*37)%360), title:'Sample '+(i+1)}));

/* ---------- 渲染图墙 ---------- */
const grid=document.getElementById('grid');
PICS.forEach((im,i)=>{
  const t = im.title || nameOf(im.src);
  const tile = document.createElement('a');
  tile.className='tile'; tile.href='javascript:void(0)'; tile.dataset.index=i; tile.setAttribute('aria-label', t);
  tile.innerHTML = `<img loading="lazy" alt="${t}"><div class="cap">${t}</div>`;
  const img = tile.querySelector('img');
  img.src = resolvePath(im.src);
  img.onerror = ()=>{ img.src = ph(t, (i*47)%360); };
  grid.appendChild(tile);
});

/* ---------- 查看器 & 操作 ---------- */
const viewer=document.getElementById('viewer'), stage=document.getElementById('stage');
const big=document.getElementById('big'), meta=document.getElementById('meta');
const btnPrev=document.getElementById('prev'), btnNext=document.getElementById('next'), btnClose=document.getElementById('close');
let idx=-1;

function openAt(i){
  if(!PICS.length) return;
  if(i<0) i=PICS.length-1; if(i>=PICS.length) i=0; idx=i;
  const im=PICS[i]; const t=im.title||nameOf(im.src);
  big.src = resolvePath(im.src); big.alt = t;
  big.onerror = ()=>{ big.src = ph(t,(i*47)%360,2000,1125); };
  meta.textContent = `${i+1}/${PICS.length} · ${t}`;
  viewer.classList.remove('hidden');
}
function closeV(){ viewer.classList.add('hidden'); idx=-1; }
function step(d){ if(idx<0) return; openAt(idx+d); }

grid.addEventListener('click', e=>{
  const a=e.target.closest('.tile'); if(!a) return; openAt(+a.dataset.index);
});
btnPrev.onclick=()=>step(-1);
btnNext.onclick=()=>step(1);
btnClose.onclick=()=>closeV();
stage.addEventListener('click', e=>{
  const r=stage.getBoundingClientRect();
  (e.clientX < r.left + r.width/2) ? step(-1) : step(1);
});
document.addEventListener('keydown', e=>{
  if(viewer.classList.contains('hidden')) return;
  if(e.key==='ArrowRight') step(1);
  else if(e.key==='ArrowLeft') step(-1);
  else if(e.key==='Escape') closeV();
});
</script>
</body>
</html>
