<!doctype html>
<html lang="zh-CN">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width,initial-scale=1"/>
<title>Multiverse 风格相册 · 紧贴但可区分</title>
<meta name="color-scheme" content="dark light">
<style>
  :root{
    --bg:#0e0f13; --fg:#e6e9ef; --mut:#9aa1ad;
    --cap-bg:rgba(0,0,0,.36); --cap-fg:#fff;
    --tile-outline:rgba(255,255,255,.06);   /* 轻描边（内描边，不占空间） */
    --tile-shadow:rgba(0,0,0,.18);          /* 轻投影 */
    --tile-hover-scale:1.035;
    --mincol:460px;                          /* 单张最小宽，调大=更大片 */
  }

  *{box-sizing:border-box}
  html,body{margin:0;background:var(--bg);color:var(--fg);
    font:16px/1.55 ui-sans-serif,system-ui,Segoe UI,Roboto,Helvetica,Arial; overflow-x:hidden}

  /* === 砖墙：左右贴边、无缝（gap:0） === */
  .grid{
    display:grid;
    grid-template-columns:repeat(auto-fill,minmax(var(--mincol),1fr));
    gap:0;
    width:100vw; max-width:100vw; margin:0; padding:0;
  }
  @media (max-width: 900px){ :root{ --mincol:380px } }
  @media (max-width: 640px){ .grid{ grid-template-columns:1fr } }

  /* === 卡片：紧贴但可区分（内描边 + 轻投影） === */
  .tile{
    position:relative; overflow:hidden; aspect-ratio:4/3; cursor:zoom-in;
    background:#0b0d12;
    /* 关键：内描边不占空间，0 间隙也能看出边界 */
    box-shadow:
      inset 0 0 0 1px var(--tile-outline),   /* 细描边（视觉分隔） */
      0 2px 8px var(--tile-shadow);          /* 轻投影，层次更好 */
    border-radius:0;                          /* 紧贴风格不做圆角 */
  }
  .tile img{
    width:100%; height:100%; object-fit:cover; display:block;
    transform:translateZ(0); transition:transform .35s ease, filter .35s ease;
  }
  .tile:hover img{ transform:scale(var(--tile-hover-scale)); filter:contrast(1.03) saturate(1.02) }

  /* 标题条：薄且不挡图 */
  .cap{
    position:absolute; left:0; right:0; bottom:0;
    padding:9px 12px; background:var(--cap-bg); color:var(--cap-fg);
    font-size:.82rem; letter-spacing:.04em; text-transform:uppercase;
    backdrop-filter:saturate(120%) blur(1.5px);
  }

  /* 查看大图（Lightbox） */
  .overlay{position:fixed; inset:0; z-index:9999; background:rgba(0,0,0,.92);
    display:grid; grid-template-rows:1fr auto; gap:.8rem; padding:16px}
  .hidden{display:none}
  .stage{position:relative; min-height:0; display:flex; align-items:center; justify-content:center}
  .stage img{max-width:100%; max-height:100%; object-fit:contain; box-shadow:0 12px 60px rgba(0,0,0,.55); border-radius:10px}
  .nav{position:absolute; top:50%; transform:translateY(-50%); border:0; border-radius:12px;
       background:rgba(17,22,29,.75); color:#f1f5ff; padding:.45rem .75rem; font-size:2rem; cursor:pointer}
  .nav:hover{background:rgba(17,22,29,.95)}
  .prev{left:18px} .next{right:18px}
  .bar{display:flex; gap:.6rem; align-items:center; justify-content:center}
  .btn{border:0; background:#171c25; color:#e9edf7; border-radius:10px; padding:.48rem .8rem; font-size:1rem; cursor:pointer}
  .meta{color:#c4c9d4; font-size:.9rem}

  /* 可选：隐藏顶/底栏（保持极简） */
  header, footer{ display:none }
</style>
</head>
<body>

<main id="grid" class="grid" aria-label="相册图片墙"></main>

<!-- Lightbox -->
<div id="viewer" class="overlay hidden" role="dialog" aria-modal="true" aria-label="图片查看器">
  <div class="stage" id="stage">
    <button id="prev" class="nav prev" aria-label="上一张">‹</button>
    <img id="big" alt=""/>
    <button id="next" class="nav next" aria-label="下一张">›</button>
  </div>
  <div class="bar">
    <button id="close" class="btn" aria-label="关闭">关闭 Esc</button>
    <span id="meta" class="meta"></span>
  </div>
</div>

<script>
/* 子目录友好路径 */
const BASE = new URL('./', location.href);
const resolvePath = p => (/^(?:[a-z]+:)?\/\//i.test(p) || p.startsWith('data:')) ? p : new URL(p.replace(/^\.?\//,''), BASE).href;
const nameOf = src => { try{ const n=new URL(src,BASE).pathname.split('/').pop()||''; return decodeURIComponent(n).replace(/\.[^.]+$/,''); }catch{ return 'Photo'; } };

/* 你的图片清单：按需替换为 images.json 加载也行 */
const IMAGES = Array.from({length:14}, (_,i)=>({
  src: `images/streming-live-${String(i+1).padStart(2,'0')}.png`
}));
/* 占位图（只有 404 时才出现） */
function ph(label, hue, w=1600, h=900){
  const svg=`<svg xmlns='http://www.w3.org/2000/svg' width='${w}' height='${h}'>
  <defs><linearGradient id='g' x1='0' y1='0' x2='1' y2='1'>
    <stop offset='0' stop-color='hsl(${hue},70%,55%)'/><stop offset='1' stop-color='hsl(${(hue+60)%360},70%,45%)'/></linearGradient></defs>
  <rect width='100%' height='100%' fill='url(#g)'/>
  <text x='50%' y='50%' fill='white' font-size='64' font-family='Segoe UI,Roboto,Arial' text-anchor='middle' dominant-baseline='middle'>${label}</text>
  </svg>`;
  return 'data:image/svg+xml;base64,'+btoa(unescape(encodeURIComponent(svg)));
}

/* 渲染 */
const grid=document.getElementById('grid');
const PICS = IMAGES.slice(0,120);

PICS.forEach((im,i)=>{
  const t = im.title || nameOf(im.src);
  const a = document.createElement('a');
  a.className='tile'; a.href='javascript:void(0)'; a.dataset.index=i; a.setAttribute('aria-label',t);
  a.innerHTML = `<img loading="lazy" alt="${t}"><div class="cap">${t}</div>`;
  const img=a.querySelector('img');
  img.src = resolvePath(im.src);
  img.onerror = ()=>{ img.src = ph(t,(i*47)%360); };
  grid.appendChild(a);
});

/* 查看器 */
const viewer=document.getElementById('viewer'), stage=document.getElementById('stage');
const big=document.getElementById('big'), meta=document.getElementById('meta');
const btnPrev=document.getElementById('prev'), btnNext=document.getElementById('next'), btnClose=document.getElementById('close');
let idx=-1;
function openAt(i){ if(!PICS.length) return; if(i<0)i=PICS.length-1; if(i>=PICS.length)i=0; idx=i;
  const im=PICS[i]; const t=im.title||nameOf(im.src); const src=resolvePath(im.src);
  big.src=src; big.alt=t; big.onerror=()=>{ big.src=ph(t,(i*47)%360,2000,1125); };
  meta.textContent=`${i+1}/${PICS.length} · ${t}`; viewer.classList.remove('hidden'); }
function closeV(){ viewer.classList.add('hidden'); idx=-1; }
function step(d){ if(idx<0)return; openAt(idx+d); }

grid.addEventListener('click', e=>{ const a=e.target.closest('.tile'); if(!a) return; openAt(+a.dataset.index); });
btnPrev.onclick=()=>step(-1); btnNext.onclick=()=>step(1); btnClose.onclick=()=>closeV();
stage.addEventListener('click', e=>{ const r=stage.getBoundingClientRect(); (e.clientX<r.left+r.width/2)?step(-1):step(1); });
document.addEventListener('keydown', e=>{ if(viewer.classList.contains('hidden')) return;
  if(e.key==='ArrowRight')step(1); else if(e.key==='ArrowLeft')step(-1); else if(e.key==='Escape')closeV(); });
</script>
</body>
</html>
